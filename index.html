<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>CLI Mastery</title>
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" sizes="192x192" href="assets/icon-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="assets/icon-512.png">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>CLI Mastery</h1>
    <div class="streak">ðŸ”¥ <span id="streakCount">0</span>-day streak</div>
    <button id="installBtn" class="btn hidden">Install</button>
  </header>

  <main>
    <section class="card">
      <div class="track-picker">
        <label for="track">Choose Track</label>
        <select id="track">
          <option value="git">Git (10 Days)</option>
          <option value="bash">Bash (15 Days)</option>
          <option value="linux">Linux (30 Days)</option>
        </select>
        <button id="reviewMode" class="btn">Review Missed</button>
        <button id="editCurriculum" class="btn" type="button">Edit Curriculum</button>
        <button id="resetTrack" class="link">Reset Progress</button>
      </div>
      <div id="progress" class="progress">
        <div id="progressBar" class="progress-bar"></div>
        <span id="progressText">0% complete</span>
      </div>
    </section>

    <section id="dayList" class="grid"></section>
  </main>

  <footer class="app-footer">
    <span>Offline â€¢ Quizzes â€¢ Timers â€¢ Pools â€¢ Streaks â€¢ Review Mode</span>
  </footer>

  <!-- Quiz Modal -->
  <div id="quizModal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-header">
        <h3 id="quizTitle">Quiz</h3>
        <button id="closeQuiz" class="icon-btn" aria-label="Close">âœ•</button>
      </div>
      <div id="quizBody"></div>
      <div class="modal-actions">
        <button id="submitQuiz" class="btn">Submit</button>
      </div>
    </div>
  </div>

  <!-- Editor Modal -->
  <div id="editorModal" class="modal hidden">
    <div class="modal-card" style="max-width:800px">
      <div class="modal-header">
        <h3>Curriculum Editor (data.json)</h3>
        <div style="display:flex; gap:8px; align-items:center">
          <input type="file" id="importFile" accept="application/json" class="icon-btn" title="Import JSON">
          <button id="downloadJson" class="btn">Download JSON</button>
          <button id="resetServer" class="btn" type="button">Reset to server version</button>
          <button id="closeEditor" class="icon-btn" aria-label="Close">âœ•</button>
        </div>
      </div>
      <div class="meta" style="margin-bottom:8px">
        Changes are stored locally (offline). Use <b>Download JSON</b> to export and commit later.
      </div>
      <textarea id="editorArea" style="width:100%;height:50vh;background:#0b1220;color:#e5eefc;border:1px solid #1f2a44;border-radius:12px;padding:12px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"></textarea>
      <div class="modal-actions" style="display:flex;justify-content:space-between;margin-top:8px">
        <div class="meta">Tip: Pretty-print before saving.</div>
        <div style="display:flex;gap:8px">
          <button id="prettyPrint" class="btn" type="button">Pretty Print</button>
          <button id="saveJson" class="btn" type="button">Save on this device</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
